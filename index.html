<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>My Birtae</title>
    <link rel="stylesheet" href="css/main-style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <header class="header">
      <div class="header-title flex">
        <img src="./img/cake-icon.png" class="icon icon-cake" />
        <p class="header-title__title">My Birtae</p>
      </div>
      <ul class="nav nav-pills red" id="myTab">
        <li class="active">
          <a href="#home" class="nav-link active">Home</a>
        </li>
        <li>
          <a href="#guests" class="nav-link">Guests</a>
        </li>
        <li>
          <a href="#shoplist" class="nav-link">Shoping List</a>
        </li>
        <li>
          <a href="#invitation" class="nav-link">Invitations</a>
        </li>
      </ul>
      <div class="header-profile flex">
        <img src="./img/user.png" class="icon icon-user" />
      </div>
    </header>

    <main class="main tab-content">
      <!-- Home view -->
      <section class="tab-pane fade show active" id="home">
        <div class="pageContainer">
          <div class="home-text w-30">
            <h1 class="mt-1">Let's Celebrate Your Birthday!</h1>
            <p>
              In My Birtae you can have in one place everything you need to
              organized your birthday, make your guests list, your shopping list and
              the invitationsyou like to share. For free!
            </p>
            <button
              type="submit"
              class="btn btn-primary btn-rounded w-50"
              id="changetabbutton"
            >
              Let's Start
            </button>
          </div>
          <div class="coverContainer w-70">
            <img src="./img/landing-page.webp" class="img-fluid img__cover" />
          </div>
        </div>
      </section>
      <!-- Guest view -->
      <section class="tab-pane fade" id="guests">
        <div class="pageContainer ">
          <div class="inviteContainer w-50 ">
              <form class="form-group needs-validation" novalidate>
                <h6 class="field">Guests List</h6>                
                <textarea
                placeholder="I want to invite..."
                class="form-control"
                id="validationCustom03"
                rows="10"
                required
                ></textarea>
                <div class="invalid-feedback">
                    Please add a person to the list.
                </div>
                <button
                  type="submit"
                  class="btn btn-primary btn-rounded"
                >
                  Copy to Clipboard
                </button>
              </form>
          </div>
          <figure class="guestContainer w-50">
            <img src="./img/guest.png" class="img-fluid img__guest" />
          </figure>
        </div>
      </section>
      <!-- Shoplist view  -->
      <section class="tab-pane fade" id="shoplist">
        <div class="pageContainer">
          <div class="card card-shopping__h w-50">
            <div class="card-body p-5">
              <h6 class="field">Shoping List</h6>
              <div class="input__list">
                  <div class="form-outline flex-fill">
                   <input
                    type="text"
                    id="inputText"
                    style="font-size: 16px"
                    class="form-control form-control-lg"
                    placeholder="What do you need to buy?"
                    required
                    />
                  </div>
                  <button
                  type="submit"
                  onclick="addList()"
                  class="btn btn-primary ms-2 btn__baseline"
                  >
                    Add
                  </button>
              </div>
              <ul class="list-group mb-0" id="list">
                <li
                  class="list-group-item d-flex justify-content-between align-items-center border-start-0 border-top-0 border-end-0 border-bottom rounded-0 mb-2"
                ></li>
              </ul>
            </div>
          </div>
          <div class="coverContainer w-50">
            <img src="./img/shop-bag.png" class="img-fluid img__shop" />
          </div>
        </div>
      </section>
      <!-- invitation view -->
      <section class="tab-pane fade" id="invitation">
        <div class="pageContainer">
          <div class="formContainer">
            <div class="card card-invitation">
              <div class="card-body">
                <h6 class="field">Title</h6>
                <form
                  class="d-flex justify-content-center align-items-center mb-4 needs-validation" novalidate 
                >
                  <div class="form-outline flex-fill">
                    <input
                      type="text"
                      id="form3"
                      style="font-size: 16px"
                      class="form-control form-control-lg"
                      placeholder="Party name"
                      required
                    />
                  </div>
                  <div class="invalid-feedback">
                    Please add a person to the list.
                </div>
                </form>
                <div class="flex input-time">
                  <div class="w-40">
                    <h6 class="field">Date</h6>
                    <form
                      class="d-flex justify-content-center align-items-center mb-4"
                    >
                      <div class="form-outline flex-fill">
                        <input
                          type="date"
                          id="form3"
                          style="font-size: 16px"
                          class="form-control form-control-lg"
                          placeholder="07/12/2022"
                        />
                      </div>
                    </form>
                  </div>

                  <div class="w-40">
                    <h6 class="field">Hour</h6>
                    <form
                      class="d-flex justify-content-center align-items-center mb-4"
                    >
                      <div class="form-outline flex-fill">
                        <input
                          type="time"
                          id="form3"
                          style="font-size: 16px"
                          class="form-control form-control-lg"
                          placeholder="16:00"
                        />
                      </div>
                    </form>
                  </div>
                </div>

                <h6 class="field">Place</h6>
                <form
                  class="d-flex justify-content-center align-items-center mb-4"
                >
                  <div class="form-outline flex-fill">
                    <input
                      type="text"
                      id="form3"
                      style="font-size: 16px"
                      class="form-control form-control-lg"
                      placeholder="Where is your party?"
                      
                    />
                  </div>
                </form>
                <h6 class="field">Dress Code</h6>
                <select class="form-select" aria-label="Default select example">
                  <option selected>Select dress code</option>
                  <option value="1">Formal</option>
                  <option value="2">Semi-Formal</option>
                  <option value="3">Informal</option>
                  <option value="4">Casual</option>
                </select>
                <button
                  type="submit"
                  class="btn btn-primary ms-2 w-50 btn-rounded"
                  id="changetabbutton"
                >
                  Generate Invitation
                </button>
              </div>
            </div>
          </div>
          <div class="coverContainer w-50">
            <img src="./img/invitations.png" class="img-fluid img__letter" />
          </div>
        </div>
      </section>
    </main>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      //code for tabs
      $(document).ready(function () {
        $("#myTab a").click(function (e) {
          e.preventDefault();
          $(this).tab("show");
        });
      });

      //code for button
      $(document).ready(function () {
        $("#changetabbutton").click(function (e) {
          e.preventDefault();
          $('#myTab a[href="#guests"]').tab("show");
        });

        //code to validate inputs
        (function () {
        'use strict'
        // Obtener todos los formularios a los que queremos aplicar estilos de validación de Bootstrap personalizados
        var forms = document.querySelectorAll('.needs-validation')
            // Bucle sobre ellos y evitar el envío
            Array.prototype.slice.call(forms)
            .forEach(function (form) {
              form.addEventListener('submit', function (event) {
                if (!form.checkValidity()) {
                  event.preventDefault()
                  event.stopPropagation()
                }
                form.classList.add('was-validated')
                }, false)
            })
        })()


        //code for shopping list
        let input = document.getElementById("inputText");
        let list = document.getElementById("list");
        let minimalValue = 2;
        let listNum = 0;
        addList = () => {
          // get
          let inputText = filterList(input.value);
          // set
          if (inputText) {
            list.innerHTML += ` 
      <li class="list-group-item d-flex justify-content-between align-items-center border-start-0 border-top-0 border-end-0 border-bottom rounded-0 mb-2" id="list${listNum}">
          <div class="d-flex align-items-center item">
            <input class="form-check-input me-2 checkBox" type="checkbox" id="check${listNum}" onclick="done(${listNum})">
            <span class="" id="text${listNum}"> ${inputText} </span>
          </div>
          <div class="col-4">
            <img src="./img/garbage.png" class="hover-overlay ripple shadow-1-strong garbageIcon" onclick="deleteList(${listNum})">
          </div>                  
      </li> `;
            input.value = " ";
            listNum++;
          }
        };

        done = (listId) => {
          let checkbox = document.getElementById(`check${listId}`);
          let current = document.getElementById(`text${listId}`);
          let classExit = current.classList.contains(
            "text-decoration-line-through"
          );
          if (classExit == true) {
            current.classList.remove("text-decoration-line-through");
          } else {
            current.classList.add("text-decoration-line-through");
          }
        };

        filterList = (x) => {
          if (x) {
            if (x.length >= minimalValue) {
              return x;
            } else {
                alert('Please add a value')
            }
          } else {
            return false;
          }
        };

        deleteList = (listId) => {
          let current = document.getElementById(`text${listId}`).innerHTML;
          let p = document.getElementById("list");
          let c = document.getElementById(`list${listId}`);
          p.removeChild(c);
        };
      });
    </script>
  </body>
</html>